<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/public/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
    <main class="w-full h-screen bg-zinc-100 font-['Helvetica']">
        <nav class="flex px-10 justify-between py-5">
            <h3 class="text-2xl tracking-tight">Khaatabook</h3>
            <div class="navlinks flex gap-5  flex-col md:flex-row md:space-x-6 md:items-center md:justify-end">

                <a class="tracking-tight" href="/">Home</a>
                
                <a class="tracking-tight" href="/create">Create New Hisaab</a>
                 <form action="/logout" method="POST">
            <button type="submit" class="tracking-tight hover:underline focus:outline-none">
                Logout
            </button>
            </form>
            </div>
          
                    </nav>
        <div class="px-10 hisaabs">
            <h3 class="capitalize text-2xl font-medium mb-5 mt-10 tracking-tight">All hisaab kitaab</h3>
           <form method="GET" action="/">
                <select name="sort" onchange="this.form.submit()" class="bg-zinc-100 border-opacity-0">
                <option class="bg-zinc-100 border-opacity-0" value="date_desc" <%= sortBy === 'date_desc' ? 'selected' : '' %>>Newest First</option>
                <option class="bg-zinc-100 border-opacity-0" value="date_asc" <%= sortBy === 'date_asc' ? 'selected' : '' %>>Oldest First</option>
                <option class="bg-zinc-100 border-opacity-0" value="title_asc" <%= sortBy === 'title_asc' ? 'selected' : '' %>>Title A-Z</option>
                <option class="bg-zinc-100 border-opacity-0" value="title_desc" <%= sortBy === 'title_desc' ? 'selected' : '' %>>Title Z-A</option>
            </select>
                </form>



            <div class="flex flex-wrap gap-4 mt-5">
                <% hisaabs.forEach(hisaab => {  ;
                 %>
            <!-- Hisaab Card -->
                    <a href="/hisaab/<%=hisaab._id%>">
            <div class="w-[250px]  bg-white shadow-md rounded-xl p-4 transform transition duration-300 hover:scale-105 hover:shadow-xl cursor-pointer">
                
                
                <div class="flex justify-between items-start mb-2">
                     <p class="text-lg font-bold text-left text-gray-800"><%= hisaab.title %></p>
                <p class="text-xs text-gray-500 mt-1 ml-2 mb-2"><%= hisaab.date.toDateString() %></p>
                </div>
    
               
            
                <div class="mt-2">
                <span class="inline-block px-3 py-1 bg-blue-100 text-blue-800 text-sm font-semibold rounded-full">
                            <%= hisaab.label %>

                </span>
                  <% if (hisaab.encrypted) { %>
                 <span class="ml-2 text-gray-400 mb-2 ">ðŸ”’ Encrypted</span>
                 <% } %>
                </div>
            </div>
            </a>
              <%   }); %>
</div>



           
          
           
      </div>      
    </main>
</body>

</html>